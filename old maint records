<script id="maintHistory-template" type="text/x-handlebars-template">
    {{#if hasRecords}}
        <div class="maint-recs-copy">
            <p>Below is a list of records based on the previous services you've had performed on your vehicle. You can add or delete records at your leisure to further customize your experience.</p>
        </div>
    {{/if}}

    <h3>Records You've Added</h3>
    {{#if hasError}}
        <p class="formErrorGeneral getRecordError">There was a problem retrieving your maintenance records.</p>
    {{/if}}

    {{#if hasUserRecords}}
        <div class="table-widget userRecords">
            <div class="row heading-sub table-widget-title">
                <div class="col-md-2">
                    Date
                </div>
                <div class="col-md-3">
                    Description
                </div>
                <div class="col-md-3">
                    Service Provider
                </div>
                <div class="col-md-4">
                    Odometer
                </div>
            </div>
            {{#each userRecords}}
                <div class="row table-widget-row">
                    <div class="col-md-2 col-lg-2">
                        <span class="hidden-sm">
                            <p class="heading-sub table-widget-label">Date</p>
                            <p class="table-widget-info">{{service_date}}</p>
                        </span>
                        <span class="headingsAdj">
                            <div class="headingsWrap">
                                <p class="heading-sub table-widget-label">Date</p>
                                <p class="table-widget-info">{{service_date}}</p>
                            </div>
                            <div class="headingsWrap">
                                <p class="heading-sub table-widget-label">Odometer</p>
                                <p class="table-widget-info">{{odometer_reading}}</p>
                            </div>
                        </span>
                    </div>
                    <div class="col-md-3 mobileOnly">
                        <p class="heading-sub table-widget-label">Service Provider</p>
                        <p class="table-widget-info">{{service_provider}}</p>
                    </div>
                    <div class="col-md-3">
                        <p class="heading-sub table-widget-label">Description</p>
                        <p class="table-widget-info">{{service_desc}}</p>
                    </div>
                    <div class="col-md-3 desktopOnly">
                        <p class="heading-sub table-widget-label">Service Provider</p>
                        <p class="table-widget-info">{{service_provider}}</p>
                    </div>
                    <div class="col-md-2 hidden-sm">
                        <p class="heading-sub table-widget-label">Odometer</p>
                        <p class="table-widget-info">{{odometer_reading}}</p>
                    </div>
                    <div class="col-md-2 tableControls">
                        <a href="{{ baseUrlPath '/my-vehicle/maintenance-records/edit-record.html' }}?record={{service_id}}" class="table-widget-edit">Edit</a>
                        <a class="maint-record-delete table-widget-delete" data-id="{{service_id}}">Delete</a>
                    </div>
                </div>
            {{/each}}
        </div>
        <p class="formErrorGeneral delete-record-error">There was a problem deleting your maintenance record, please try again.</p>
    {{else}}
        <p class="maint-recs-copy">Have a maintenance record you'd like to add? You can do that right here.</p>
    {{/if}}

    <div class="row">
        <div class="col-md-12 col-lg-12">
            <a href="${BASE_URL_PATH}/my-vehicle/maintenance-records/add-record.html" class="btn btn-primary {{#unless hasDealerRecords}}section-end{{/unless}}">Add A Record</a>
        </div>
    </div>

    {{#if hasDealerRecords}}
        <h3>Records Your Dealer Has Added</h3>
        <div class="table-widget dealerRecords">
            <div class="row heading-sub table-widget-title">
                <div class="col-md-2">
                    Date
                </div>
                <div class="col-md-3">
                    Description
                </div>
                <div class="col-md-5">
                    Service Provider
                </div>
                <div class="col-md-2">
                    Odometer
                </div>
            </div>
            {{#each dealerRecords}}
                <div class="row table-widget-row">
                    <div class="col-md-2">
                        <span class="hidden-sm">
                            <p class="heading-sub table-widget-label">Date</p>
                            <p class="table-widget-info">{{service_date}}</p>
                        </span>
                        <span class="headingsAdj">
                            <div class="headingsWrap">
                                <p class="heading-sub table-widget-label">Date</p>
                                <p class="table-widget-info">{{service_date}}</p>
                            </div>
                            <div class="headingsWrap">
                                <p class="heading-sub table-widget-label">Odometer</p>
                                <p class="table-widget-info">{{odometer_reading}}</p>
                            </div>
                        </span>
                    </div>

                    <div class="col-md-3 hidden-md hidden-lg">
                        <p class="heading-sub table-widget-label">Service Provider</p>
                        <p class="table-widget-info">{{service_provider}}</p>
                    </div>

                    <div class="col-md-3">
                        <p class="heading-sub table-widget-label">Description</p>
                        <div class="table-widget-info last">
                            <ul>
                              {{#each labor}}
                                 <li>{{Service_Desc}}</li>
                              {{/each}}
                            </ul>
                        </div>
                    </div>

                    <div class="col-md-5 hidden-sm">
                        <p class="heading-sub table-widget-label">Service Provider</p>
                        <p class="table-widget-info">{{service_provider}}</p>
                    </div>

                    <div class="col-md-2 hidden-sm">
                        <p class="heading-sub table-widget-label">Odometer</p>
                        <p class="table-widget-info">{{odometer_reading}}</p>
                    </div>
                </div>
            {{/each}}
        </div>
    {{/if}}
</script>



<script id="maintHistoryTable-template" type="text/x-handlebars-template">
    <div class="table-widget">
        <div class="row heading-sub table-widget-title">
            <div class="col-md-2">Date</div>
            <div class="col-md-3">Description</div>
            <div class="{{#if isEditable}}col-md-3{{else}}col-md-5{{/if}}">Service Provider</div>
            <div class="{{#if isEditable}}col-md-4{{else}}col-md-2{{/if}}">Odometer</div>
        </div>
        {{#each this}}
            <div class="row table-widget-row">
                <div class="col-md-2">
                    <span class="hidden-sm">
                        <p class="heading-sub table-widget-label">Date</p>
                        <p class="table-widget-info">{{service_date}}</p>
                    </span>
                    <span class="headingsAdj">
                        <div class="headingsWrap">
                            <p class="heading-sub table-widget-label">Date</p>
                            <p class="table-widget-info">{{service_date}}</p>
                        </div>
                        <div class="headingsWrap">
                            <p class="heading-sub table-widget-label">Odometer</p>
                            <p class="table-widget-info">{{odometer_reading}}</p>
                        </div>
                    </span>
                </div>

                <div class="col-md-3 hidden-md hidden-lg">
                    <p class="heading-sub table-widget-label">Service Provider</p>
                    <p class="table-widget-info">{{service_provider}}</p>
                </div>

                <div class="col-md-3">
                    <p class="heading-sub table-widget-label">Description</p>
                    <div class="table-widget-info last">
                        <ul>
                          {{#each labor}}
                             <li>{{Service_Desc}}</li>
                          {{/each}}
                        </ul>
                    </div>
                </div>

                <div class="{{#if isEditable}}col-md-3{{else}}col-md-5{{/if}} hidden-sm">
                    <p class="heading-sub table-widget-label">Service Provider</p>
                    <p class="table-widget-info">{{service_provider}}</p>
                </div>

                <div class="{{#if isEditable}}col-md-4{{else}}col-md-2{{/if}} hidden-sm">
                    <p class="heading-sub table-widget-label">Odometer</p>
                    <p class="table-widget-info">{{odometer_reading}}</p>
                </div>
            </div>
        {{/each}}
    </div>

</script>
